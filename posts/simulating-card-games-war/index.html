<!DOCTYPE html>
<head>
  <title>Simulating card games: War</title>

  <meta name="description" content="">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:description" content="">
  <meta name="twitter:title" content="Simulating card games: War">
  <meta name="twitter:creator" content="t4ccer">
  <meta name="twitter:site" content="t4ccer">
  <meta name="twitter:image" content="https://www.t4ccer.com/img/t4logo.png">

  <meta property="og:title" content="Simulating card games: War">
  <meta property="og:image" content="https://www.t4ccer.com/img/t4logo.png">
  <meta property="og:description" content="">
  <meta property="og:type" content="article">
  <meta property="og:locale" content="en_US">
  <meta property="og:site_name" content="t4ccer">

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/fonts.css">
  
  <link rel="icon" type="image/png" href="/img/favicon.ico" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
      integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
</head>

<html>
<!DOCTYPE html>
<html>

<body>
  <header class="site-header">

    <div class="wrapper">
      <a class="muted small" href="https://t4ccer.com/">t4ccer</a>
    </div>
  </header>
</body>

</html>

<h1>Simulating card games: War</h1>
<title>Simulating card games: War</title>
<p class="post-meta"><time itemprop="datePublished">August 4, 2020</time>
</p>
<h2 id="prologue">Prologue</h2>
<p><a href="https://en.wikipedia.org/wiki/War_(card_game)">Card game war</a> is very popular because of it&rsquo;s simplicity. Game seems totally random but I thought that there must be better or worse way of playing, so I ran quite a few simulations to find it out.</p>
<h2 id="possible-strategies">Possible strategies</h2>
<p>Only thing that we control during the game is the way how to collect won cards. I found out only 3 diffrent ways of collecting cards:</p>
<ul>
<li>Starting from player A&rsquo;s pile</li>
<li>Starting from player B&rsquo;s pile</li>
<li>Starting from player&rsquo;s that won pile</li>
</ul>
<p>Cards are always collected interchangeably from 2 piles so only difference is from wich to start from.</p>
<h2 id="simulations">Simulations</h2>
<p>I&rsquo;d wrote some python scrippts to run simulations for me. Source code is available on my Github (link at the end). When game reaches 10.000 rounds i abort it and also save data about it. I was doing it because of possibility of never-ending games.</p>
<h2 id="results">Results</h2>
<p>All simulations were run on 100.000 random card shuffles but every strategy was run on the same 100.000 card shuffles.<br>
Winnig rates are calculated only for games that ended before 10.000 rounds.<br>
I also attached json data for each strategy result.</p>
<h3 id="starting-from-player-as-pile">Starting from player A&rsquo;s pile</h3>
<p>That was first strategy that I implemented. Player A had noticably higher winning rate, but only 59% of games ended before 10.000 rounds, and average game took 1735 rounds.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
   <span style="color:#f92672">&#34;win_a&#34;</span>: <span style="color:#ae81ff">33587</span>,
   <span style="color:#f92672">&#34;win_b&#34;</span>: <span style="color:#ae81ff">25609</span>,
   <span style="color:#f92672">&#34;draw_move_limit&#34;</span>: <span style="color:#ae81ff">40804</span>,
   <span style="color:#f92672">&#34;draw_no_cards&#34;</span>: <span style="color:#ae81ff">0</span>,
   <span style="color:#f92672">&#34;avg_moves&#34;</span>: <span style="color:#ae81ff">1735.0262179877018</span>,
   <span style="color:#f92672">&#34;draw_after&#34;</span>: <span style="color:#ae81ff">10000</span>,
   <span style="color:#f92672">&#34;games&#34;</span>: <span style="color:#ae81ff">100000</span>,
   <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;play_a_first&#34;</span>,
   <span style="color:#f92672">&#34;no_draw&#34;</span>: <span style="color:#ae81ff">59196</span>,
   <span style="color:#f92672">&#34;no_draw_chance&#34;</span>: <span style="color:#ae81ff">0.59196</span>,
   <span style="color:#f92672">&#34;win_a_chance&#34;</span>: <span style="color:#ae81ff">0.5673863098858031</span>,
   <span style="color:#f92672">&#34;win_b_chance&#34;</span>: <span style="color:#ae81ff">0.4326136901141969</span>
}
</code></pre></div><h3 id="starting-from-player-bs-pile">Starting from player B&rsquo;s pile</h3>
<p>Results are nearly the same as in previous strategy but winning rates are reversed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
   <span style="color:#f92672">&#34;win_a&#34;</span>: <span style="color:#ae81ff">25240</span>,
   <span style="color:#f92672">&#34;win_b&#34;</span>: <span style="color:#ae81ff">33976</span>,
   <span style="color:#f92672">&#34;draw_move_limit&#34;</span>: <span style="color:#ae81ff">40784</span>,
   <span style="color:#f92672">&#34;draw_no_cards&#34;</span>: <span style="color:#ae81ff">0</span>,
   <span style="color:#f92672">&#34;avg_moves&#34;</span>: <span style="color:#ae81ff">1728.1025905160768</span>,
   <span style="color:#f92672">&#34;draw_after&#34;</span>: <span style="color:#ae81ff">10000</span>,
   <span style="color:#f92672">&#34;games&#34;</span>: <span style="color:#ae81ff">100000</span>,
   <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;play_b_first&#34;</span>,
   <span style="color:#f92672">&#34;no_draw&#34;</span>: <span style="color:#ae81ff">59216</span>,
   <span style="color:#f92672">&#34;no_draw_chance&#34;</span>: <span style="color:#ae81ff">0.59216</span>,
   <span style="color:#f92672">&#34;win_a_chance&#34;</span>: <span style="color:#ae81ff">0.4262361523912456</span>,
   <span style="color:#f92672">&#34;win_b_chance&#34;</span>: <span style="color:#ae81ff">0.5737638476087544</span>
}
</code></pre></div><h3 id="starting-from-players-that-won-pile">Starting from player&rsquo;s that won pile</h3>
<p>When collecting cards from winner&rsquo;s pile first win-rates were equal. Average game took only 279 rounds, comparing to previous 2 strategies it is really small number. Also no game was stopped becausse of rounds limit.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
   <span style="color:#f92672">&#34;win_a&#34;</span>: <span style="color:#ae81ff">49509</span>,
   <span style="color:#f92672">&#34;win_b&#34;</span>: <span style="color:#ae81ff">50491</span>,
   <span style="color:#f92672">&#34;draw_move_limit&#34;</span>: <span style="color:#ae81ff">0</span>,
   <span style="color:#f92672">&#34;draw_no_cards&#34;</span>: <span style="color:#ae81ff">0</span>,
   <span style="color:#f92672">&#34;avg_moves&#34;</span>: <span style="color:#ae81ff">278.75586</span>,
   <span style="color:#f92672">&#34;draw_after&#34;</span>: <span style="color:#ae81ff">10000</span>,
   <span style="color:#f92672">&#34;games&#34;</span>: <span style="color:#ae81ff">100000</span>,
   <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;play_winner_first&#34;</span>,
   <span style="color:#f92672">&#34;no_draw&#34;</span>: <span style="color:#ae81ff">100000</span>,
   <span style="color:#f92672">&#34;no_draw_chance&#34;</span>: <span style="color:#ae81ff">1.0</span>,
   <span style="color:#f92672">&#34;win_a_chance&#34;</span>: <span style="color:#ae81ff">0.49509</span>,
   <span style="color:#f92672">&#34;win_b_chance&#34;</span>: <span style="color:#ae81ff">0.50491</span>
}
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>There is visible difference in winning rates between strategies. Best way is to collect cards always starting from your pile, but to make this strategy work you also has to &lsquo;force&rsquo; your opponent to collect cards starting from your pile also.<br>
So is there a better way of playing war? Theoretically yes, practically no.</p>
<h2 id="source-code">Source code</h2>
<p><a href="https://github.com/t4ccer/stats-of-war">link</a></p>


<footer>
    <div>
        <h3><a href="https://t4ccer.com/posts">Back to all posts</a></h3>
    </div>
    <hr>
    <p>Go <a href="https://t4ccer.com//index.xml">here</a> for an RSS feed.</p>
</footer>

</html>
